dependencies {
    implementation project(':core')
    implementation project(':test-fixtures')
    implementation 'org.springframework.boot:spring-boot-starter-test'
}

configurations {
    testClasses {
        extendsFrom(testImplementation)
    }
}

tasks.register('testJar', Jar) {
    archiveClassifier.set('test')
    from sourceSets.test.output
}

// add the jar generated by the testJar task to the testClasses dependency
artifacts {
    testClasses testJar
}

bootJar {
    enabled = false
}

jar {
    enabled = true
}